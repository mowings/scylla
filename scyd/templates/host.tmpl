{{$h := .Helpers}}

<ol class="breadcrumb">
  <li><a href="/jobs">jobs</a></li>
  <li><a href="/jobs/{{.Job.Name}}">{{.Job.Name}}</a></li>
  <li class="active">{{.Run.RunId}} ({{.HostRun.Host}})</li>
</ol>

<div class="container-fluid">
  <h3> {{.Job.Name}}.{{.Run.RunId}}</h3>
  <h4 class="text-muted"> {{.HostRun.Host}}</h4>
  <div class="row">
    <div class="col-md-1"><b>status:</b></div>
    <div class="col-md-1 {{$h.DisplayRunStatusClasses .HostRun.Status}}">{{$h.DisplayRunStatus .HostRun.Status}}</div>
    <div class="col-md-1"></div>
    <div class="col-md-1"><b>start:</b></div>
    <div class="col-md-2">{{$h.DisplayTime .HostRun.StartTime}}</div>
    <div class="col-md-1"><b>end:</b></div>
    <div class="col-md-2">{{$h.DisplayTime .HostRun.EndTime}}</div>
    <div class="col-md-1"><b>duration:</b></div>
    <div class="col-md-2">{{$h.DisplayDuration .HostRun.StartTime .HostRun.EndTime}}</div>
  </div>
  <div class="row">
    <div class="col-md-1"><b>sudo?</b></div>
    <div class="col-md-11">{{$h.DisplayBool .Job.Sudo}}</div>
  </div>
  <div class="row">
     <div class="col-md-12"><b>commands:</b></div>
  </div>
  {{range .HostRun.CommandRuns}}
    <div class="container">
      <div class = "row">
        <div class="col-md-12">{{.CommandSpecified}}</div>
      </div>
      {{ if eq .Status 2}}
      <div class = "row">
        <div class="col-md-1">status: </div>
        <div class="col-md-1  {{$h.DisplayRunStatusClasses .Status}}">Failed </div>
        <div class="col-md-1">error: </div>
        <div class="col-md-9">{{.Error}}</div>
      </div>
      {{else}}
      <div class = "row">
        <div class="col-md-1">status: </div>
        <div class="col-md-1 {{$h.DisplayRunStatusClasses .Status}}">{{$h.DisplayRunStatus .Status}}</div>
        <div class="col-md-10"></div>
      </div>
      {{end}}
    </div>
  {{end}}
</div>
